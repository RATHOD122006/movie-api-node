
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Edit Movie</title>
  <style>
    body{font-family:Arial, sans-serif; background:#f7f7fb; padding:30px}
    .box{max-width:600px;margin:auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.06)}
    label{display:block;margin-top:8px}
    input[type="text"], input[type="number"], select {width:100%; padding:8px; margin-top:4px; border-radius:4px; border:1px solid #ccc}
    .actions {margin-top:12px; display:flex; gap:8px; justify-content:flex-end}
    button, a {padding:8px 12px; text-decoration:none}
    .btn-primary {background:#2d9cdb;color:#fff;border:0;border-radius:4px}
    .btn-secondary {background:#eee;color:#333;border:0;border-radius:4px}
    .poster-preview { width:120px; height:160px; object-fit:cover; border-radius:6px; margin-top:8px; display:block; }
  </style>
</head>
<body>
  <div class="box">
    <h2>Edit: <%= movie.title %></h2>

    <form action="/update/<%= movie._id %>" method="POST" enctype="multipart/form-data">
      <label>Title
        <input type="text" name="title" value="<%= movie.title %>" required>
      </label>

      <label>Director
        <input type="text" name="director" value="<%= movie.director || '' %>">
      </label>

      <div style="display:flex; gap:8px;">
        <label style="flex:1">Year
          <input type="number" name="year" min="1800" max="2100" value="<%= movie.year || '' %>">
        </label>
        <label style="flex:1">Genre
          <input type="text" name="genre" value="<%= movie.genre || '' %>">
        </label>
      </div>

      <label>Current Poster</label>
      <% if (movie.poster) { %>
        <img src="<%= movie.poster %>" alt="poster" class="poster-preview">
      <% } else { %>
        <div style="width:120px;height:160px;background:#eee;display:flex;align-items:center;justify-content:center;color:#888">No poster</div>
      <% } %>

      <label>Replace Poster (choose file to update)
        <input type="file" name="poster" accept="image/*">
      </label>

      <div class="actions">
        <a href="/" class="btn-secondary">Cancel</a>
        <button type="submit" class="btn-primary">Save Changes</button>
      </div>
    </form>
  </div>
</body>
</html>
